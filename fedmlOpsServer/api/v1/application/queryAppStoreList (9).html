{"message":"Succeeded to process request","code":"SUCCESS","data":{"total":2,"totalPage":1,"pageNum":1,"pageSize":16,"data":[{"id":680,"versionId":4957,"owner":"InstantX","applicationName":"InstantID","jobType":2,"jobSubType":null,"accessPermission":0,"pictureUrl":"https://fedml.s3.us-west-1.amazonaws.com/1708022164551InstantXLogo.webp","description":"InstantID","modelId":1,"dataId":1,"platformId":-1,"users":0,"favorites":5,"views":163,"requests":"166","sort":null,"version":"v9-Wed Apr 17 23:41:12 GMT 2024","tags":["Image Stylization"],"playground":false,"createTime":"2024-04-18T06:00:14","updateBy":"InstantX","updateTime":"2024-04-18T06:10:59"},{"id":658,"versionId":4054,"owner":"epfl","applicationName":"meditron-70b","jobType":2,"jobSubType":null,"accessPermission":0,"pictureUrl":"https://fedml.s3.us-west-1.amazonaws.com/1707555886388meditron_LOGO.png","description":"# Model Card for Meditron-70B-v1.0\n\nMeditron is a suite of open-source medical Large Language Models (LLMs).\nMeditron-70B is a 70 billion parameters model adapted to the medical domain from Llama-2-70B through continued pretraining on a comprehensively curated medical corpus, including selected PubMed articles, abstracts, a [new dataset](https://huggingface.co/datasets/epfl-llm/guidelines) of internationally-recognized medical guidelines, and general domain data from [RedPajama-v1](https://huggingface.co/datasets/togethercomputer/RedPajama-Data-1T).\nMeditron-70B, finetuned on relevant training data, outperforms Llama-2-70B, GPT-3.5 (`text-davinci-003`, 8-shot), and Flan-PaLM on multiple medical reasoning tasks.\n\n<!--#  Table of Contents\n\n [Model Card for Meditron 70B](#model-card-for--meditron-70b-v1.0)\n- [Table of Contents](#table-of-contents)\n- [Model Details](#model-details)\n  - [Model Description](#model-description)\n- [Uses](#uses)\n  - [Downstream Use](#downstream-use)\n  - [Out-of-Scope Use](#out-of-scope-use)\n- [Bias, Risks, and Limitations](#bias-risks-and-limitations)\n  - [Recommendations](#recommendations)\n- [Training Details](#training-details)\n  - [Training Data](#training-data)\n  - [Training Procedure](#training-procedure)\n    - [Preprocessing](#preprocessing)\n- [Evaluation](#evaluation)\n  - [Testing Data & Metrics](#testing-data-&-metrics)\n    - [Testing Data](#testing-data)\n    - [Metrics](#metrics)\n  - [Results](#results)\n- [Environmental Impact](#environmental-impact)\n- [Citation](#citation)-->\n\n<details open>\n  <summary><strong>Advisory Notice</strong></summary>\n\n<blockquote style=\"padding: 10px; margin: 0 0 10px; border-left: 5px solid #ddd;\">\n    While Meditron is designed to encode medical knowledge from sources of high-quality evidence, it is not yet adapted to deliver this knowledge appropriately, safely, or within professional actionable constraints. \n  We recommend against deploying Meditron in medical applications without extensive use-case alignment, as well as additional testing, specifically including randomized controlled trials in real-world practice settings.\n  </blockquote>\n</details>\n\n## Model Details\n\n- **Developed by:** [EPFL LLM Team](https://huggingface.co/epfl-llm)\n- **Model type:** Causal decoder-only transformer language model\n- **Language(s):** English (mainly)\n- **Model License:** [LLAMA 2 COMMUNITY LICENSE AGREEMENT](https://huggingface.co/meta-llama/Llama-2-70b/raw/main/LICENSE.txt)\n- **Code License:** [APACHE 2.0 LICENSE](LICENSE)\n- **Continue-pretrained from model:** [Llama-2-70B](https://huggingface.co/meta-llama/Llama-2-70b)\n- **Context length:**  4K tokens\n- **Input:**  Text-only data\n- **Output:**  Model generates text only\n- **Status:** This is a static model trained on an offline dataset. Future versions of the tuned models will be released as we enhance model's performance.\n- **Knowledge Cutoff:** August 2023\n\n### Model Sources\n\n- **Repository:** [epflLLM/meditron](https://github.com/epfLLM/meditron)\n- **Trainer:** [epflLLM/Megatron-LLM](https://github.com/epfLLM/Megatron-LLM)\n- **Paper:** *[MediTron-70B: Scaling Medical Pretraining for Large Language Models](https://arxiv.org/abs/2311.16079)*\n\n## Uses\n\nMeditron-70B is being made available for further testing and assessment as an AI assistant to enhance clinical decision-making and enhance access to an LLM for healthcare use. Potential use cases may include but are not limited to:\n\n- Medical exam question answering\n- Supporting differential diagnosis\n- Disease information (symptoms, cause, treatment) query\n- General health information query\n\n### Direct Use\n\nIt is possible to use this model to generate text, which is useful for experimentation and understanding its capabilities.\nIt should not be used directly for production or work that may impact people.\n\n### Downstream Use\n\nMeditron-70B and Meditron-7B are both foundation models without finetuning or instruction-tuning. They can be finetuned, instruction-tuned, or RLHF-tuned for specific downstream tasks and applications.\nThere are two ways we have used this model for downstream question-answering tasks.\n\n1. We apply in-context learning with k demonstrations (3 or 5 in our paper) added to the prompt.\n2. We finetuned the models for downstream question-answering tasks using specific training sets.\n\nWe encourage and look forward to the adaption of the base model for more diverse applications.\n\nIf you want a more interactive way to prompt the model, we recommend using a high-throughput and memory-efficient inference engine with a UI that supports chat and text generation.\n\nYou can check out our deployment [guide](https://github.com/epfLLM/meditron/blob/main/deployment/README.md), where we used [FastChat](https://github.com/lm-sys/FastChat) with [vLLM](https://github.com/vllm-project/vllm). We collected generations for our qualitative analysis through an interactive UI platform, [BetterChatGPT](https://github.com/ztjhz/BetterChatGPT). Here is the prompt format we used as an example:\n\n<img width=70% src=\"prompt_example.png\" alt=\"qualitative-analysis-prompt\" title=\"Qualitative Analysis Prompt\">\n\n### Out-of-Scope Use\n\nWe do not recommend using this model for natural language generation in a production environment, finetuned or otherwise.\n\n## Truthfulness, Helpfulness, Risk, and Bias\n\n<!-- This section is meant to convey both technical and sociotechnical limitations. -->\n\nWe did an initial assessment of Meditron models' **Truthfulness** against baseline models and consumer-level medical models.\nWe use TruthfulQA (multiple choice) as the main evaluation benchmark.\nWe only focus on the categories that are relevant to the medical domain, including Health, Nutrition, Psychology, and Science.\nFor 7B models, we perform one-shot evaluations for consistent answer generation.\nFor 70B models, the evaluations are under the zero-shot setting.\nBelow, we report the detailed truthfulness performance of each category.\n\n|            |              |             |            |             |            |              |\n|------------|--------------|-------------|------------|-------------|------------|--------------|\n| Category   | meditron-70b | llama-2-70b | med42-70b* | meditron-7b | llama-2-7b | PMC-llama-7b |\n| Health     | 81.8         | 69.1        | 83.6       | 27.3        | 16.4       | 3.6          |\n| Nutrition  | 77.9         | 68.8        | 62.5       | 31.1        | 12.5       | 6.3          |\n| Psychology | 47.4         | 36.8        | 52.6       | 21.1        | 10.5       | 0.0          |\n| Science    | 77.8         | 44.4        | 33.3       | 33.3        | 11.1       | 0.0          |\n| Avg        | 71.2         | 54.8        | 58.0       | 28.3        | 12.6       | 2.5          |\n|            |              |             |            |             |            |              |\n\nFor a more detailed performance analysis, please see our paper.\n\nFor **Helpfulness**, **Risk** and **Bias**, we provide a comprehensive qualitative generation report of Meditron-70B on queries designed by medical experts.\nEach query targets specific aspects of helpfulness (medical accuracy, up-to-date information, etc.), risk (public health, medical ethics, etc.) and bias (gender, age, race, etc.).\nPlease see the detailed generations in our paper. We compare our generations to Llama-2-70B and ChatGPT-3.5 (version Nov, 27, 2023)\n\nSignificant research is still required to fully explore potential bias, fairness, and safety issues with this language model.\n\n### Recommendations\n\n**IMPORTANT!**\nUsers (both direct and downstream) should be made aware of the risks, biases, and limitations of the model.\nWhile this model is capable of generating natural language text, we have only begun to explore this capability and its limitations.\nUnderstanding these limitations is especially important in a domain like medicine.\nTherefore, we strongly recommend against using this model in production for natural language generation or for professional purposes related to health and medicine without comprehensive testing for your application.\n\n## Training Details\n\n### Training Data\n\nMeditron’s domain-adaptive pre-training corpus GAP-Replay  combines 48.1B tokens from four corpora:\n\n- [**Clinical  Guidelines**](https://huggingface.co/datasets/epfl-llm/guidelines): a new dataset of 46K internationally-recognized clinical practice guidelines from various healthcare-related sources, including hospitals and international organizations.\n- **Medical Paper Abstracts**: 16.1M abstracts extracted from closed-access PubMed and PubMed Central papers.\n- **Medical Papers**: full-text articles extracted from 5M publicly available PubMed and PubMed Central papers.\n- **Replay Data**: 400M tokens of general domain pretraining data sampled from [RedPajama-v1](https://huggingface.co/datasets/togethercomputer/RedPajama-Data-1T)\n\n<img width=\"60%\" src=\"gap-replay.png\" alt=\"Alt text\" title=\"Meditron-logo\">\n\n#### Data Preprocessing\n\nPlease see the detailed preprocessing procedure in our paper.\n\n### Training Procedure\n\nWe used the [Megatron-LLM](https://github.com/epfLLM/Megatron-LLM) distributed training library, a derivative of Nvidia's Megatron LM project, to optimize training efficiency.\nHardware consists of 16 nodes of 8x NVIDIA A100 (80GB) SXM GPUs connected by NVLink and NVSwitch with a single Nvidia ConnectX-6 DX network card and equipped with 2 x AMD EPYC 7543 32-Core Processors and 512 GB of RAM.\nThe nodes are connected via RDMA over Converged Ethernet.\n\nOur three-way parallelism scheme uses:\n\n- Data Parallelism (DP -- different GPUs process different subsets of the batches) of 2,\n- Pipeline Parallelism (PP -- different GPUs process different layers) of 8,\n- Tensor Parallelism (TP -- different GPUs process different subtensors for matrix multiplication) of 8.\n\n#### Training Hyperparameters\n\n|                   |               |\n|-------------------|---------------|\n| bf16              | true          |\n| lr                | 1.5e-4        |\n| eps               | 1e-5          |\n| betas             | \\[0.9, 0.95\\] |\n| clip_grad         | 1             |\n| weight decay      | 0.1           |\n| DP size           | 2             |\n| TP size           | 8             |\n| PP size           | 8             |\n| seq length        | 4096          |\n| lr scheduler      | cosine        |\n| min lr            | 1e-6          |\n| warmup iteration  | 2000          |\n| micro batch size  | 2             |\n| global batch size | 512           |\n|                   |               |\n\n#### Speeds, Sizes, Times\n\nThe model was trained in September and October 2023.\n\nThe model architecture is exactly Llama 2, meaning\n\n|                      |      |\n|----------------------|------|\n| Model size           | 70B  |\n| Hidden dimension     | 8192 |\n| Num. attention heads | 64   |\n| Num. layers          | 80   |\n|                      |      |\n\nWe train the 70B model on 48e9 tokens, at a throughput of about 40,200 tokens / second.\nThis amounts to a bfloat16 model flops utilization of roughly 42.3\\%.\n\n## Evaluation\n\n<!-- This section describes the evaluation protocols and provides the results. -->\n\n### Testing Data & Metrics\n\n#### Testing Data\n\n- [MedQA (USMLE)](https://huggingface.co/datasets/bigbio/med_qa)\n- [MedMCQA](https://huggingface.co/datasets/medmcqa)\n- [PubMedQA](https://huggingface.co/datasets/bigbio/pubmed_qa)\n- [MMLU-Medical](https://huggingface.co/datasets/lukaemon/mmlu)\n- [MedQA-4-Option](https://huggingface.co/datasets/GBaker/MedQA-USMLE-4-options)\n\n#### Metrics\n\n- Accuracy: suite the evaluation of multiple-choice question-answering tasks.\n\n### Results\n\nWe finetune meditron-70b and llama-2-70b on each benchmark (pubmedqa, medmcqa, medqa)'s training data individually.\nWe report the finetuned models' performance with self-consistency chain-of-thought as the inference mode.\nFor MMLU-Medical, models finetuned on MedMCQA are used for inference.\nFor MedQA-4-Option, models finetuned on MedQA are used for inference.\nFor a more detailed performance analysis, please see our paper.\n\n|                |              |             |            |                     |\n|----------------|--------------|-------------|------------|---------------------|\n| Dataset        | meditron-70b | llama-2-70b | med42-70b* | clinical-camel-70b* |\n| MMLU-Medical   | 77.6         | 77.9        | 74.5       | 65.7                |\n| PubMedQA       | 81.6         | 80.0        | 61.2       | 67.0                |\n| MedMCQA        | 66.0         | 62.6        | 59.2       | 46.7                |\n| MedQA          | 64.4         | 61.5        | 59.1       | 50.8                |\n| MedQA-4-Option | 70.2         | 63.8        | 63.9       | 56.8                |\n| Avg            | 72.0         | 69.2        | 63.6       | 57.4                |\n|                |              |             |            |                     |\n\n**Note**: models with * are already instruction-tuned, so we exclude them from further finetuning on any training data.\n\n## Environmental Impact\n\n<!-- Total emissions (in grams of CO2eq) and additional considerations, such as electricity usage, go here. Edit the suggested text below accordingly -->\n\n- **Hardware Type:** 128 x NVIDIA A100 (80GB) SXM\n- **Total GPU hours:** 42,496\n- **Hardware Provider:** EPFL Research Computing Platform\n- **Compute Region:** Switzerland\n- **Carbon Emitted:** Switzerland has a carbon efficiency of 0.016 kgCO2/kWh (https://www.carbonfootprint.com/docs/2018_8_electricity_factors_august_2018_-_online_sources.pdf). 332 hours of 128 A100s means 42496 hours at a TDP of 400W. Assuming a Power Usage effectiveness of 1.8, total emissions are estimated to be:\n  \n  (400W / 1000W/kWh / GPU * 0.016 kgCO2/kWh * 332 h * 128 GPU) * 1.8 PUE = 486 kgCO2.\n\n## Citation\n\n**BibTeX:**\nIf you use Meditron or its training data, please cite our work:\n\n```\n@misc{chen2023meditron70b,\n      title={MEDITRON-70B: Scaling Medical Pretraining for Large Language Models}, \n      author={Zeming Chen and Alejandro Hernández-Cano and Angelika Romanou and Antoine Bonnet and Kyle Matoba and Francesco Salvi and Matteo Pagliardini and Simin Fan and Andreas Köpf and Amirkeivan Mohtashami and Alexandre Sallinen and Alireza Sakhaeirad and Vinitra Swamy and Igor Krawczuk and Deniz Bayazit and Axel Marmet and Syrielle Montariol and Mary-Anne Hartley and Martin Jaggi and Antoine Bosselut},\n      year={2023},\n      eprint={2311.16079},\n      archivePrefix={arXiv},\n      primaryClass={cs.CL}\n}\n\n@software{epfmedtrn,\n  author = {Zeming Chen and Alejandro Hernández Cano and Angelika Romanou and Antoine Bonnet and Kyle Matoba and Francesco Salvi and Matteo Pagliardini and Simin Fan and Andreas Köpf and Amirkeivan Mohtashami and Alexandre Sallinen and Alireza Sakhaeirad and Vinitra Swamy and Igor Krawczuk and Deniz Bayazit and Axel Marmet and Syrielle Montariol and Mary-Anne Hartley and Martin Jaggi and Antoine Bosselut},\n  title = {MediTron-70B: Scaling Medical Pretraining for Large Language Models},\n  month = November,\n  year = 2023,\n  url = {https://github.com/epfLLM/meditron}\n}\n```","modelId":1,"dataId":1,"platformId":-1,"users":0,"favorites":0,"views":61,"requests":"0","sort":null,"version":"v2-Tue Feb 27 22:31:45 GMT 2024","tags":["Question Answering"],"playground":false,"createTime":"2024-02-27T23:35:27","updateBy":"epfl","updateTime":"2024-02-27T23:35:56"}]}}